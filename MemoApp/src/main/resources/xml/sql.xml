<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>

    <!-- 회원가입 -->
    <entry key="signup">
        INSERT INTO MEMBER (MEMBER_NO, MEMBER_ID, MEMBER_PW, MEMBER_NICKNAME)
        VALUES (SEQ_MEMBER_NO.NEXTVAL, ?, ?, ?)
    </entry>

    <!-- 로그인 -->
    <entry key="searchByMemberId">
        SELECT * FROM MEMBER
        WHERE MEMBER.MEMBER_ID = ?
        AND MEMBER_PW = ?
    </entry>

    <!-- 메모 삽입 dt 를 date 로 변경 -->
    <entry key="insertMemo">
        INSERT INTO MEMO(MEMO_NO, MEMO_TITLE, MEMO_CONTENT, MEMBER_NO, CREATE_DATE)
        VALUES(SEQ_MEMO_NO.NEXTVAL, ?, ?, ?, SYSDATE)
    </entry>

    <!-- 메모 삭제 -->
    <entry key="memoDelete">
        DELETE FROM MEMO
        WHERE MEMO_NO = ?
    </entry>

    <!-- 제목으로 메모 검색 수정 -->
    <entry key="searchMemoByTitle">
        SELECT MEMO_NO, MEMO_TITLE, MEMO_CONTENT, CREATE_DATE, MODIFY_DATE, MEMBER_NO
        FROM MEMO
        WHERE MEMO_TITLE LIKE ?
        ORDER BY MEMO_NO DESC
    </entry>

    <!-- 메모 번호로 조회 -->
    <entry key="selectMemoByNo">
        SELECT MEMO_NO, MEMO_TITLE, MEMO_CONTENT, CREATE_DATE,
               MODIFY_DATE, MEMBER_NO
        FROM MEMO
        WHERE MEMO_NO = ?
    </entry>

    <!-- 전체 메모 조회 modifydate 추가 -->
    <entry key="selectAllMemos">
        SELECT
            M.MEMO_NO,
            M.MEMO_TITLE,
            M.MEMO_CONTENT, M.CREATE_DATE,
            M.MODIFY_DATE,
            MB.MEMBER_NICKNAME,
            M.MEMBER_NO     FROM MEMO M
        JOIN MEMBER MB ON M.MEMBER_NO = MB.MEMBER_NO
        ORDER BY M.CREATE_DATE DESC
    </entry>
    <!-- 로그인 추가 김동준 -->
    <entry key="login">
    SELECT MEMBER_NO, MEMBER_ID, MEMBER_PW, MEMBER_NICKNAME
    FROM MEMBER
    WHERE MEMBER_ID = ?
    AND MEMBER_PW = ?
</entry>

	<!-- 유저별 메모 보기 추가 -->
    <entry key="selectMemoListByMemberNo">
        SELECT MEMO_NO, MEMO_TITLE, CREATE_DATE, MODIFY_DATE
        FROM MEMO
        WHERE MEMBER_NO = ?
        ORDER BY CREATE_DATE DESC
    </entry>

	<!-- 메모 업데이트 추가  -->
	  <entry key="memoUpdate">
        UPDATE MEMO
        SET MEMO_TITLE = ?,
            MEMO_CONTENT = ?,
            MODIFY_DATE = SYSDATE
        WHERE MEMO_NO = ?
    </entry>
</properties>